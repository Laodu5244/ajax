<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>jquery封装ajax</title>
</head>
<body>
  <h2>jquery封装ajax</h2>
  <button id="btn1">get请求</button>
  <button id="btn2">post请求</button>
  <div class="content" id="content"></div>

  <script src="./js/jquery.min.js"></script>
  <script>
    let btn1 = $('#btn1')
    let btn2 = $('#btn2')
    let content = $('#content')

    
    btn1.click(()=>{
      // 使用jQuery发送ajax-get(完整版)
      /* $.ajax({
        url:'http://127.0.0.1:3030/jquery_get', //请求地址
        method:'GET', //请求方式
        data:{man:'jack'}, //携带的参数
        dataType:'json', //配置响应数据的格式
        timeout:3000, //指定超时时间
        success:(res,rep,xhr)=>{
          console.log(res,rep,xhr)
          content.append(`姓名:${res.name}-年龄:${res.age}-性别:${res.sex}`)
        }, //成功回调
        error:(xhr)=>{console.log('请求出错了',xhr)} //失败回调
      }) */

      // 使用jQuery发送ajax-get(精简版)
      $.get('http://127.0.0.1:3030/jquery_get',{man:'jack'},(res)=>{
        console.log(res)
        content.append(`姓名:${res.name}-年龄:${res.age}-性别:${res.sex}`)
      },'json')
    })

    btn2.click(()=>{
      // 使用jQuery发送ajax-post
      /* $.ajax({
        url:'http://127.0.0.1:3030/jquery_post', //请求地址
        method:'POST', //请求方式
        data:{man:'jack'}, //携带的参数
        dataType:'json', //配置响应数据的格式
        timeout:2000, //指定超时时间
        success:(res,rep,xhr)=>{
          console.log(res,rep,xhr)
          content.append(
            `姓名:${res.name}  
            年龄:${res.age}
            性别:${res.sex}`)
        }, //成功回调
        error:(xhr)=>{console.log('请求出错了',xhr)} //失败回调
      }) */

      // 使用jQuery发送ajax-post(精简版)
      $.post('http://127.0.0.1:3030/jquery_post',{man:'jack'},(res)=>{
        console.log(res)
        content.append(`姓名:${res.name}-年龄:${res.age}-性别:${res.sex}`)
      },'json')
    })

  </script>

  <style>
    .content{
      width:300px;
      height:100px;
      border:1px solid red;
      margin-top:10px;
    }
  </style>
</body>
</html>