<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>axios的post方法</title>
</head>

<body>
  <button id="btn">获取所有信息</button>
  <hr>
  <input id="name" type="text" placeholder="请输入水果名">
  <input id="price" type="number" placeholder="请输入水果价格">
  <button id="btn1">添加水果</button>

  <script src="./js/axios.min.js"></script>
  <script>
    function el(el) {
      return document.getElementById(el)
    }
    let btn = el('btn')
    let btn1 = el('btn1')
    let name = el('name')
    let price = el('price')

    btn.onclick = () => {
      axios.get('http://localhost:3000/fruits').then((response) => {
        console.log('请求成功了', response.data)
      })
    }

    // 发送POST请求,添加一个水果,携带json编码的参数
    btn1.onclick = () => {
      // 完整写法
      // axios({
      //   url: 'http://localhost:3000/fruits',
      //   method: 'POST',
      //   // 携带请求体参数(默认是json编码)
      //   data: { name: name.value, price: price.value }
      // }).then(response => {
      //   console.log('请求成功了')
      // })

      // 精简写法
      axios.post('http://localhost:3000/fruits', { name: name.value, price: price.value }).then(
        console.log('请求成功了')
      )
    }



  </script>
</body>

</html>