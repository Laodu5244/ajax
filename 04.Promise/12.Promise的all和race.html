<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
</head>
<body>
  <script>
    /* 
    Promise.all返回一个新promise
    数组里的每一个都成功再返回成功的数组
    否则返回失败的回调 
    */
    /* let p1 = Promise.resolve("a")
    let p2 = new Promise((resolve,reject)=>{
      setTimeout(() => {
        reject('b')
      },500);
    })
    let p3 = new Promise((resolve,reject)=>{
      setTimeout(() => {
        reject('c')
      },2000);
    })
    
    let x = Promise.all([p1,p2,p3])
    x.then(res=>console.log('成功',res))
    x.catch(error=>{
      console.log('失败',error)
    }) */

    /* Promise.race只返回最快的那个人
    不管成功失败,其他人都不再执行 */
    let p1 = Promise.reject("a")
    let p2 = new Promise((resolve,reject)=>{
      setTimeout(() => {
        resolve('b')
      },500);
    })
    let p3 = new Promise((resolve,reject)=>{
      setTimeout(() => {
        resolve('c')
      },2000);
    })
    let p = Promise.race([p1,p2,p3])
    p.then(res=>console.log('成功',res))
    p.catch(error=>{
      console.log('失败',error)
    })
  </script>
</body>
</html>